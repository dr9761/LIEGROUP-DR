function d = create_simulator(d,DynamicsFuncHandle)
d.c.simulator = ...
	d.c.mpc.getCasadiIntegrator(DynamicsFuncHandle, ...
	d.p.T, [d.p.n_x, d.p.n_u], {'x', 'u'});
end